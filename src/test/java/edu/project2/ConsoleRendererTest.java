package edu.project2;

import org.junit.jupiter.api.DisplayName;
import org.junit.jupiter.api.Test;
import static org.assertj.core.api.Assertions.assertThat;
import static org.junit.jupiter.api.Assertions.*;

class ConsoleRendererTest {

    @Test
    @DisplayName("RenderTest")
    void test() {
        String expectedString =
            "   ┬─────┬──┬─────────────────┐\n"
                + "│  │     │  │                 │\n"
                + "│  └───     ├────────┬──┬───  │\n"
                + "│           │        │  │     │\n"
                + "│─────┬───         ──┘  └───  │\n"
                + "│     │        │              │\n"
                + "│         ─────┤      ─────┐  │\n"
                + "│  │           │  │        │  │\n"
                + "│  │   ──┐   ──┘──┤      ──┤  │\n"
                + "│  │     │        │  │     │  │\n"
                + "│  └──┐  │      ──┤  └──┬──┘  │\n"
                + "│     │  │  │     │     │     │\n"
                + "│     │  └──┤  ┌──┤     │     │\n"
                + "│  │  │     │  │  │  │  │  │  │\n"
                + "│──┤  └──┬──┤──┤     └──┤  └──┤\n"
                + "│  │     │  │  │        │     │\n"
                + "│  │           │        │   ──┤\n"
                + "│  │  │        │  │  │  │     │\n"
                + "│     │      ──┘──┤──┘  ├───  │\n"
                + "│     │  │        │     │     │\n"
                + "└─────┘──┘────────┘─────┘───   \n";

        int height = 10;
        int width = 10;

        int[][] rightBorders =
            {
                {1, 0, 1, 1, 0, 0, 0, 0, 0, 1},
                {0, 0, 0, 1, 0, 0, 1, 1, 0, 1},
                {0, 1, 0, 0, 1, 0, 0, 0, 0, 1},
                {1, 0, 0, 0, 1, 1, 0, 0, 1, 1},
                {1, 0, 1, 0, 0, 1, 1, 0, 1, 1},
                {0, 1, 1, 1, 0, 1, 0, 1, 0, 1},
                {1, 1, 0, 1, 1, 1, 1, 1, 1, 1},
                {1, 0, 1, 1, 1, 0, 0, 1, 0, 1},
                {1, 1, 0, 0, 1, 1, 1, 1, 0, 1},
                {0, 1, 1, 0, 0, 1, 0, 1, 0, 1}
            };

        int[][] lowerBorders =
            {
                {0, 1, 0, 0, 1, 1, 1, 1, 1, 0},
                {1, 1, 1, 0, 0, 0, 1, 0, 1, 0},
                {0, 0, 0, 1, 1, 0, 0, 1, 1, 0},
                {0, 0, 1, 0, 1, 1, 0, 0, 1, 0},
                {0, 1, 0, 0, 0, 1, 0, 1, 1, 0},
                {0, 0, 0, 1, 0, 1, 0, 0, 0, 0},
                {1, 0, 1, 1, 1, 0, 0, 1, 0, 1},
                {0, 0, 0, 0, 0, 0, 0, 0, 0, 1},
                {0, 0, 0, 0, 1, 1, 1, 0, 1, 0},
                {1, 1, 1, 1, 1, 1, 1, 1, 1, 0},
            };

        int[][] expectingSolution =
            {
                {2, 0, 0, 0, 0, 0, 0, 0, 0, 0},
                {2, 2, 2, 2, 2, 2, 0, 0, 0, 0},
                {0, 0, 0, 2, 2, 2, 2, 2, 2, 2},
                {0, 0, 0, 0, 0, 0, 0, 0, 0, 2},
                {0, 0, 0, 0, 0, 0, 0, 0, 0, 2},
                {0, 0, 0, 0, 0, 0, 0, 0, 2, 2},
                {0, 0, 0, 0, 0, 0, 0, 0, 2, 0},
                {0, 0, 0, 0, 0, 0, 0, 0, 2, 0},
                {0, 0, 0, 0, 0, 0, 0, 0, 2, 2},
                {0, 0, 0, 0, 0, 0, 0, 0, 0, 2},
            };

        Maze maze = new Maze(height, width, rightBorders, lowerBorders);
        Renderer renderer = new ConsoleRenderer(maze);

        assertThat(renderer.render()).isEqualTo(expectedString);

    }
}
